{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Med Amine\\\\Desktop\\\\pfe\\\\main web\\\\git\\\\mini-storage-handler--pfe-\\\\frontend\\\\src\\\\Context\\\\DataContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DataContext = /*#__PURE__*/createContext();\nexport const useData = () => {\n  _s();\n  return useContext(DataContext);\n};\n_s(useData, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const DataProvider = ({\n  children\n}) => {\n  _s2();\n  const [employees, setEmployees] = useState([]);\n  const [equipment, setEquipment] = useState([]);\n  const [attributions, setAttributions] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Combined data fetcher with caching\n  const fetchData = useCallback(async (endpoint, setData) => {\n    if (isLoading) return;\n    setIsLoading(true);\n    setError(null);\n    try {\n      const res = await axios.get(`http://localhost:5000/api/${endpoint}`);\n      setData(res.data);\n      return res.data;\n    } catch (err) {\n      setError(err.message);\n      console.error(`Error fetching ${endpoint}:`, err);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [isLoading]);\n\n  // Memoized fetch functions\n  const fetchEmployees = useCallback(() => fetchData('employees', setEmployees), [fetchData]);\n  const fetchEquipment = useCallback(() => fetchData('equipment', setEquipment), [fetchData]);\n  const fetchAttributions = useCallback(() => fetchData('attributions', setAttributions), [fetchData]);\n\n  // Initial data load\n  useEffect(() => {\n    const controller = new AbortController();\n    const loadInitialData = async () => {\n      try {\n        setIsLoading(true);\n        const [empRes, eqRes, attrRes] = await Promise.all([axios.get('http://localhost:5000/api/employees', {\n          signal: controller.signal\n        }), axios.get('http://localhost:5000/api/equipment', {\n          signal: controller.signal\n        }), axios.get('http://localhost:5000/api/attributions', {\n          signal: controller.signal\n        })]);\n        setEmployees(empRes.data);\n        setEquipment(eqRes.data);\n        setAttributions(attrRes.data);\n      } catch (err) {\n        if (!axios.isCancel(err)) {\n          setError(err.message);\n          console.error(\"Initial data load error:\", err);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadInitialData();\n    return () => controller.abort();\n  }, []);\n\n  // Assign equipment with quantity\n  const assignEquipment = useCallback(async (employeeId, equipmentId, quantity) => {\n    setIsLoading(true);\n    try {\n      const res = await axios.post('http://localhost:5000/api/attributions', {\n        id_employee: employeeId,\n        id_materiel: equipmentId,\n        quantity: parseInt(quantity)\n      });\n      setEmployees(prev => prev.map(emp => {\n        if (emp.id_employee === employeeId) {\n          const existingEquipment = emp.equipment || [];\n          const existingItem = existingEquipment.find(item => item.id === equipmentId);\n          return {\n            ...emp,\n            equipment: existingItem ? existingEquipment.map(item => item.id === equipmentId ? {\n              ...item,\n              quantity: item.quantity + parseInt(quantity)\n            } : item) : [...existingEquipment, {\n              id: equipmentId,\n              quantity: parseInt(quantity)\n            }]\n          };\n        }\n        return emp;\n      }));\n      setEquipment(prev => prev.map(eq => {\n        if (eq.id_materiel === equipmentId) {\n          const newQuantity = eq.quantity - parseInt(quantity);\n          return {\n            ...eq,\n            quantity: newQuantity,\n            etat: newQuantity <= 0 ? 'Indisponible' : 'Disponible'\n          };\n        }\n        return eq;\n      }));\n      setAttributions(prev => [...prev, res.data]);\n      return res.data;\n    } catch (err) {\n      setError(err.message);\n      console.error(\"Error assigning equipment:\", err);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Return equipment\n  const returnEquipment = useCallback(async attributionId => {\n    setIsLoading(true);\n    try {\n      const res = await axios.put(`http://localhost:5000/api/attributions/${attributionId}/return`, {});\n      const attribution = attributions.find(a => a.id_attribution === attributionId);\n      if (attribution) {\n        setEmployees(prev => prev.map(emp => {\n          if (emp.id_employee === attribution.id_employee) {\n            const updatedEquipment = (emp.equipment || []).map(item => {\n              if (item.id === attribution.id_materiel) {\n                return {\n                  ...item,\n                  quantity: item.quantity - (attribution.quantity || 1)\n                };\n              }\n              return item;\n            }).filter(item => item.quantity > 0);\n            return {\n              ...emp,\n              equipment: updatedEquipment\n            };\n          }\n          return emp;\n        }));\n        setEquipment(prev => prev.map(eq => {\n          if (eq.id_materiel === attribution.id_materiel) {\n            const newQuantity = eq.quantity + (attribution.quantity || 1);\n            return {\n              ...eq,\n              quantity: newQuantity,\n              etat: newQuantity > 0 ? 'Disponible' : 'Indisponible'\n            };\n          }\n          return eq;\n        }));\n      }\n      setAttributions(prev => prev.map(attr => attr.id_attribution === attributionId ? {\n        ...attr,\n        date_retour: res.data.date_retour\n      } : attr));\n      return res.data;\n    } catch (err) {\n      setError(err.message);\n      console.error(\"Error returning equipment:\", err);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [attributions]);\n\n  // Delete attribution\n  const deleteAttribution = useCallback(async id_attribution => {\n    setIsLoading(true);\n    try {\n      const attribution = attributions.find(a => a.id_attribution === id_attribution);\n      await axios.delete(`http://localhost:5000/api/attributions/${id_attribution}`);\n      if (attribution && !attribution.date_retour) {\n        setEquipment(prev => prev.map(eq => {\n          if (eq.id_materiel === attribution.id_materiel) {\n            const newQuantity = eq.quantity + (attribution.quantity || 1);\n            return {\n              ...eq,\n              quantity: newQuantity,\n              etat: newQuantity > 0 ? 'Disponible' : 'Indisponible'\n            };\n          }\n          return eq;\n        }));\n      }\n      setAttributions(prev => prev.filter(attr => attr.id_attribution !== id_attribution));\n      return true;\n    } catch (err) {\n      setError(err.message);\n      console.error('Error deleting attribution:', err);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [attributions]);\n  return /*#__PURE__*/_jsxDEV(DataContext.Provider, {\n    value: {\n      employees,\n      equipment,\n      attributions,\n      isLoading,\n      error,\n      fetchEmployees,\n      fetchEquipment,\n      fetchAttributions,\n      assignEquipment,\n      returnEquipment,\n      deleteAttribution,\n      setError\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 224,\n    columnNumber: 5\n  }, this);\n};\n_s2(DataProvider, \"a1TIBCieuqpRrTk9yyz0b+sINi0=\");\n_c = DataProvider;\nvar _c;\n$RefreshReg$(_c, \"DataProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","axios","jsxDEV","_jsxDEV","DataContext","useData","_s","DataProvider","children","_s2","employees","setEmployees","equipment","setEquipment","attributions","setAttributions","isLoading","setIsLoading","error","setError","fetchData","endpoint","setData","res","get","data","err","message","console","fetchEmployees","fetchEquipment","fetchAttributions","controller","AbortController","loadInitialData","empRes","eqRes","attrRes","Promise","all","signal","isCancel","abort","assignEquipment","employeeId","equipmentId","quantity","post","id_employee","id_materiel","parseInt","prev","map","emp","existingEquipment","existingItem","find","item","id","eq","newQuantity","etat","returnEquipment","attributionId","put","attribution","a","id_attribution","updatedEquipment","filter","attr","date_retour","deleteAttribution","delete","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Med Amine/Desktop/pfe/main web/git/mini-storage-handler--pfe-/frontend/src/Context/DataContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback } from 'react';\nimport axios from 'axios';\n\nconst DataContext = createContext();\n\nexport const useData = () => useContext(DataContext);\n\nexport const DataProvider = ({ children }) => {\n  const [employees, setEmployees] = useState([]);\n  const [equipment, setEquipment] = useState([]);\n  const [attributions, setAttributions] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Combined data fetcher with caching\n  const fetchData = useCallback(async (endpoint, setData) => {\n    if (isLoading) return;\n    setIsLoading(true);\n    setError(null);\n    try {\n      const res = await axios.get(`http://localhost:5000/api/${endpoint}`);\n      setData(res.data);\n      return res.data;\n    } catch (err) {\n      setError(err.message);\n      console.error(`Error fetching ${endpoint}:`, err);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [isLoading]);\n\n  // Memoized fetch functions\n  const fetchEmployees = useCallback(() => fetchData('employees', setEmployees), [fetchData]);\n  const fetchEquipment = useCallback(() => fetchData('equipment', setEquipment), [fetchData]);\n  const fetchAttributions = useCallback(() => fetchData('attributions', setAttributions), [fetchData]);\n\n  // Initial data load\n  useEffect(() => {\n    const controller = new AbortController();\n    \n    const loadInitialData = async () => {\n      try {\n        setIsLoading(true);\n        const [empRes, eqRes, attrRes] = await Promise.all([\n          axios.get('http://localhost:5000/api/employees', { signal: controller.signal }),\n          axios.get('http://localhost:5000/api/equipment', { signal: controller.signal }),\n          axios.get('http://localhost:5000/api/attributions', { signal: controller.signal })\n        ]);\n        setEmployees(empRes.data);\n        setEquipment(eqRes.data);\n        setAttributions(attrRes.data);\n      } catch (err) {\n        if (!axios.isCancel(err)) {\n          setError(err.message);\n          console.error(\"Initial data load error:\", err);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadInitialData();\n\n    return () => controller.abort();\n  }, []);\n\n  // Assign equipment with quantity\n  const assignEquipment = useCallback(async (employeeId, equipmentId, quantity) => {\n    setIsLoading(true);\n    try {\n      const res = await axios.post('http://localhost:5000/api/attributions', {\n        id_employee: employeeId,\n        id_materiel: equipmentId,\n        quantity: parseInt(quantity)\n      });\n\n      setEmployees(prev =>\n        prev.map(emp => {\n          if (emp.id_employee === employeeId) {\n            const existingEquipment = emp.equipment || [];\n            const existingItem = existingEquipment.find(item => item.id === equipmentId);\n            \n            return {\n              ...emp,\n              equipment: existingItem\n                ? existingEquipment.map(item => \n                    item.id === equipmentId \n                      ? { ...item, quantity: item.quantity + parseInt(quantity) }\n                      : item\n                  )\n                : [...existingEquipment, { id: equipmentId, quantity: parseInt(quantity) }]\n            };\n          }\n          return emp;\n        })\n      );\n\n      setEquipment(prev =>\n        prev.map(eq => {\n          if (eq.id_materiel === equipmentId) {\n            const newQuantity = eq.quantity - parseInt(quantity);\n            return {\n              ...eq,\n              quantity: newQuantity,\n              etat: newQuantity <= 0 ? 'Indisponible' : 'Disponible'\n            };\n          }\n          return eq;\n        })\n      );\n\n      setAttributions(prev => [...prev, res.data]);\n      return res.data;\n    } catch (err) {\n      setError(err.message);\n      console.error(\"Error assigning equipment:\", err);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n\n  // Return equipment\n  const returnEquipment = useCallback(async (attributionId) => {\n    setIsLoading(true);\n    try {\nconst res = await axios.put(\n  `http://localhost:5000/api/attributions/${attributionId}/return`,\n  {}\n);\n      const attribution = attributions.find(a => a.id_attribution === attributionId);\n\n      if (attribution) {\n        setEmployees(prev =>\n          prev.map(emp => {\n            if (emp.id_employee === attribution.id_employee) {\n              const updatedEquipment = (emp.equipment || [])\n                .map(item => {\n                  if (item.id === attribution.id_materiel) {\n                    return {\n                      ...item,\n                      quantity: item.quantity - (attribution.quantity || 1)\n                    };\n                  }\n                  return item;\n                })\n                .filter(item => item.quantity > 0);\n              \n              return { ...emp, equipment: updatedEquipment };\n            }\n            return emp;\n          })\n        );\n\n        setEquipment(prev =>\n          prev.map(eq => {\n            if (eq.id_materiel === attribution.id_materiel) {\n              const newQuantity = eq.quantity + (attribution.quantity || 1);\n              return {\n                ...eq,\n                quantity: newQuantity,\n                etat: newQuantity > 0 ? 'Disponible' : 'Indisponible'\n              };\n            }\n            return eq;\n          })\n        );\n      }\n\n      setAttributions(prev =>\n        prev.map(attr =>\n          attr.id_attribution === attributionId\n            ? { ...attr, date_retour: res.data.date_retour }\n            : attr\n        )\n      );\n\n      return res.data;\n    } catch (err) {\n      setError(err.message);\n      console.error(\"Error returning equipment:\", err);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [attributions]);\n\n  // Delete attribution\n  const deleteAttribution = useCallback(async (id_attribution) => {\n    setIsLoading(true);\n    try {\n      const attribution = attributions.find(a => a.id_attribution === id_attribution);\n      await axios.delete(`http://localhost:5000/api/attributions/${id_attribution}`);\n\n      if (attribution && !attribution.date_retour) {\n        setEquipment(prev =>\n          prev.map(eq => {\n            if (eq.id_materiel === attribution.id_materiel) {\n              const newQuantity = eq.quantity + (attribution.quantity || 1);\n              return {\n                ...eq,\n                quantity: newQuantity,\n                etat: newQuantity > 0 ? 'Disponible' : 'Indisponible'\n              };\n            }\n            return eq;\n          })\n        );\n      }\n\n      setAttributions(prev => prev.filter(attr => attr.id_attribution !== id_attribution));\n      return true;\n    } catch (err) {\n      setError(err.message);\n      console.error('Error deleting attribution:', err);\n      throw err;\n    } finally {\n      setIsLoading(false);\n    }\n  }, [attributions]);\n\n  return (\n    <DataContext.Provider value={{\n      employees,\n      equipment,\n      attributions,\n      isLoading,\n      error,\n      fetchEmployees,\n      fetchEquipment,\n      fetchAttributions,\n      assignEquipment,\n      returnEquipment,\n      deleteAttribution,\n      setError\n    }}>\n      {children}\n    </DataContext.Provider>\n  );\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}